---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Main from "../components/Main.astro";
import H1 from "../components/H1.astro";
import PostList from '../components/PostList.astro';

// WITHOUT PAGINATION:-
// const allPosts = await getCollection("posts");
// console.log("1 blog.astro")
// console.log(allPosts)

// WITH PAGINATION (this will mimic blog/1 behaviour):-
const sixPosts = (await getCollection("posts")).slice(0,6);
console.log("1 blog.astro 6 posts first page")
console.log(sixPosts)
---

<Layout title="Blog | Rhythm Nation Blog">
	
	<!-- class="px-24 max-sm:px-5 max-w-7xl mx-auto zw-full"> -->
	<Main>

		<p class="text-red-500 text-bold text-5xl mb-24 max-sm:mb-14">
			This page is osolete because in astro.config.mjs 
			we do:- 				
			redirects: 
					'/blog' to '/blog/1'
		</p>

		<H1 text="Rythm Nation Blog Page"></H1>
		<!-- <h1 class="text-6xl text-teal-900 font-bold mb-5">Rhythm Nation Blog</h1> -->
		<p class="text-zinc-900 text-2xl mb-24 max-sm:mb-14">
			Join the Community and learn from Music Producers and Enthusiasts
		</p>
		
		<!-- A TEST TO SEE IF WE CAN READ POSTS -->
		<!-- {allPosts.map(post => <h2>{post.data.title}</h2>)} -->

		<div class="mb-32">

			<!-- WITHOUT PAGINATION:- -->
			<!-- <PostList posts={allPosts} /> -->

			<!-- WITH PAGINATION (this will mimic blog/1 behaviour):- -->
			<PostList posts={sixPosts} />

		</div>
	</Main>
</Layout>
